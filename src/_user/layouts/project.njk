---
layout: sidebar-layout.njk
---

{# 
  Project Page Template
  Displays individual project/artwork with hero image and metadata
  Follows the design specified in project_docs/design_screenshots/project.png
  
  Design features:
  - Large, prominent title at the top
  - Full-width featured image as the focal point
  - Two-column layout: description (left) + first two images (right, stacked)
  - Third image: full-width
  - Remaining images: rows of 2-3 images, full-width rows, top-aligned
  - Clean, minimal layout focusing on the artwork
#}

<article class="project-page">
    {# Project Title - Large, prominent heading #}
    <header class="project-header">
        <h1 class="project-title">{{ title }}</h1>
    </header>

    {# Hero Image - Full-width featured image #}
    {# Determine which image to display: featuredImage or first image from images array #}
    {% set displayImage = featuredImage %}
    {% if not displayImage and images %}
        {% if images.length > 0 %}
            {% set displayImage = images[0].src %}
        {% endif %}
    {% endif %}
    
    {% if displayImage %}
        <div class="project-hero-image">
            <img src="{{ displayImage | url }}" alt="{{ featuredImageAlt or title }}" loading="eager">
        </div>
    {% endif %}

    {# Two-column layout: Description (left) + First two gallery images (right) #}
    {% if images and images.length > 1 %}
        <div class="project-intro-section">
            {# Left column: Project description #}
            <div class="project-description-column">
                {{ content | safe }}
            </div>
            
            {# Right column: First two gallery images stacked vertically #}
            <div class="project-intro-images">
                {% for i in range(0, 2) %}
                    {% if images[i] %}
                        <div class="intro-image-item">
                            <img src="{{ images[i].src | url }}" alt="{{ images[i].alt or title }}" loading="lazy">
                            {% include "project-image-caption.njk" %}
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    {% else %}
        {# Fallback: No images or only one image - show description full-width #}
        <div class="project-content">
            {{ content | safe }}
        </div>
    {% endif %}

    {# Third image - Full width (if exists) #}
    {% if images and images.length > 2 %}
        <div class="project-full-width-image">
            <img src="{{ images[2].src | url }}" alt="{{ images[2].alt or title }}" loading="lazy">
            {% include "project-image-caption.njk" %}
        </div>
    {% endif %}

    {# Remaining images - Rows of 2-3 images, top-aligned #}
    {% if images and images.length > 3 %}
        <div class="project-gallery-rows">
            {% for i in range(3, images.length) %}
                <div class="gallery-row-item">
                    <img src="{{ images[i].src | url }}" alt="{{ images[i].alt or title }}" loading="lazy">
                    {% include "project-image-caption.njk" %}
                </div>
            {% endfor %}
        </div>
    {% endif %}
</article>
